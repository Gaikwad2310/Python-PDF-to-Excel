def main():
    st.title("ğŸ” Model Folder Search and Data Viewer")

    st.header("Input Parameters")

    master_path = st.text_input("ğŸ“ Enter path to master folder")
    model_id = st.text_input("ğŸ†” Enter Model ID (partial or full)")
    quarter = st.selectbox("ğŸ—“ï¸ Select Quarter", ["Q1", "Q2", "Q3", "Q4"])
    year = st.text_input("ğŸ“† Enter Year (e.g., 2025)")

    if st.button("Search and Load Data"):
        if not all([master_path, model_id, quarter, year]):
            st.warning("Please provide all inputs.")
            return

        with st.spinner("ğŸ” Searching folders..."):
            folders = find_matching_folder(master_path, model_id, quarter, year)

        if not folders:
            st.error("No matching folders found.")
        else:
            st.success(f"Found {len(folders)} matching folder(s). Showing first match:")
            st.code(folders[0], language='bash')

            df = load_data_from_folder(folders[0])
            if df.empty:
                st.warning("No CSV data found in the folder.")
            else:
                st.subheader("ğŸ“Š Data Preview")
                st.dataframe(df)
